import{d as h,u as B,k as d,x as A,y as S,c as _,f as a,g as c,z as w,t as I,e as g,o as V,A as p,B as k,h as C,p as U,i as b,a as D,C as N,D as O,_ as P}from"./index-85d7e514.js";const q=o=>(U("data-v-892cedec"),o=o(),b(),o),E={class:"add-order"},L=q(()=>D("p",null,"Добавить заказ",-1)),R={key:0},z="events",F="Новый",T=h({__name:"AddOrderView",setup(o){var i;const f=B(),s=d(((i=f.user)==null?void 0:i.name)||""),l=d(""),r=d("");let n=new Date().toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"});n=n.replace(" г.","");const m=A(),u=d(null),x=S(()=>s.value!==""&&l.value!=="");function y(){if(x.value){m.setActivePreloader(!0);const v={name:s.value,address:l.value,date:n,status:F,comment:r.value};N(z,v).then(()=>O.push({name:"orders"})).finally(()=>m.setActivePreloader(!1))}else u.value="Заполните обязательные поля"}return(v,e)=>(V(),_("div",E,[L,a(w,null,{inputs:c(()=>[a(p,{required:"",type:"text",placeholder:"Введите ваше имя",label:"Ваше имя*",modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t)},null,8,["modelValue"]),a(p,{required:"",type:"text",placeholder:"Введите ваш адрес",label:"Ваш адрес*",modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t)},null,8,["modelValue"]),a(p,{type:"text",placeholder:"Комментарий",label:"Комментарий",modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=t=>r.value=t)},null,8,["modelValue"])]),buttons:c(()=>[a(k,{onClick:y},{text:c(()=>[C("Добавить заказ")]),_:1})]),_:1}),u.value?(V(),_("div",R,I(u.value),1)):g("",!0)]))}});const G=P(T,[["__scopeId","data-v-892cedec"]]);export{G as default};
